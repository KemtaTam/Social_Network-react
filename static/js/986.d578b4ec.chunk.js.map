{"version":3,"file":"static/js/986.d578b4ec.chunk.js","mappings":"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","sources":["webpack://my-app/./src/Pages/Dialogs/DialogItem/DialogItem.module.css?9351","Pages/Dialogs/DialogItem/DialogItem.tsx","webpack://my-app/./src/Pages/Dialogs/MessageItem/MessageItem.module.css?98d4","Pages/Dialogs/MessageItem/MessageItem.tsx","webpack://my-app/./src/Pages/Dialogs/Dialogs.module.css?edb9","Pages/Dialogs/Dialogs.tsx","../node_modules/@mui/icons-material/Send.js","../node_modules/@mui/icons-material/utils/createSvgIcon.js","../node_modules/@mui/material/esm/utils/createChainedFunction.js","../node_modules/@mui/material/esm/utils/deprecatedPropType.js","../node_modules/@mui/material/node_modules/@mui/utils/esm/deprecatedPropType.js","../node_modules/@mui/material/esm/utils/requirePropFactory.js","../node_modules/@mui/material/node_modules/@mui/utils/esm/requirePropFactory.js","../node_modules/@mui/material/esm/utils/setRef.js","../node_modules/@mui/material/esm/utils/useId.js","../node_modules/@mui/material/esm/utils/unsupportedProp.js","../node_modules/@mui/material/node_modules/@mui/utils/esm/unsupportedProp.js","../node_modules/@mui/material/esm/utils/index.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs_li\":\"DialogItem_dialogs_li__5m9Vr\",\"item\":\"DialogItem_item__5EQYC\",\"active\":\"DialogItem_active__jqze1\"};","import d from \"./DialogItem.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst activeLink = ({isActive}: {isActive: boolean}) => isActive ? d.active : d.item; \r\n\r\ntype PropsType = {\r\n\tid: number;\r\n\tname: string;\r\n}\r\nconst DialogItem: React.FC<PropsType> = ({id, name}) => {\r\n\tconst path = \"/dialogs/\" + id;\r\n\r\n\treturn (\r\n\t\t<li className={d.dialogs_li}>\r\n\t\t\t<NavLink to={path} className={activeLink}>{name}</NavLink>\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nexport default DialogItem;","// extracted by mini-css-extract-plugin\nexport default {\"message_item\":\"MessageItem_message_item__KGLEN\",\"ava\":\"MessageItem_ava__jBxbi\"};","import React, {useEffect} from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../hooks/redux\";\r\nimport defaultAva from '../../../images/default.png';\r\nimport { getUserProfile } from \"../../../redux/reducers/profile-reducer\";\r\nimport s from \"./MessageItem.module.css\"\r\n\r\ntype PropsType = {\r\n\tmessage: string;\r\n}\r\nconst MessageItem: React.FC<PropsType> = ({message}) => { \r\n\tconst { usersData } = useAppSelector((state) => state.profilePage);\r\n\tconst { userId } = useAppSelector((state) => state.auth);\r\n\tconst dispatch = useAppDispatch();\r\n\r\n\tconst ava = usersData?.photos.small;\r\n\r\n\tuseEffect(() => {\r\n\t\tif(userId) dispatch(getUserProfile(userId))\r\n\t}, [userId])\r\n\r\n\treturn (\r\n\t\t<div className={s.message_item}>\r\n\t\t\t<img className={s.ava} src={ava || defaultAva} alt=\"ava\" />\r\n\t\t\t{message}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default MessageItem;","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Dialogs_wrapper__a3jfb\",\"dialogs\":\"Dialogs_dialogs__fixwd\",\"messages\":\"Dialogs_messages__mKrlG\",\"dialogs_ul\":\"Dialogs_dialogs_ul__GalbR\",\"messageWrapper\":\"Dialogs_messageWrapper__UZ47Q\",\"sendMessage\":\"Dialogs_sendMessage__pq6uI\",\"bSend\":\"Dialogs_bSend__p5grP\"};","import React, { KeyboardEvent } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useFormik } from \"formik\";\r\nimport { AnyAction } from \"redux\";\r\nimport { Button, TextField } from \"@mui/material\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\n\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport MessageItem from \"./MessageItem/MessageItem\";\r\nimport { DialogType, MessageType } from \"../../types/dialogs-types\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { actions } from \"../../redux/reducers/dialogs-reducer\";\r\nimport s from \"./Dialogs.module.css\";\r\n\r\ntype PropsFormType = {\r\n\taddMessage: (newMessageBody: string) => void;\r\n};\r\nconst DialogsForm: React.FC<PropsFormType> = ({ addMessage }) => {\r\n\tconst dispatch = useAppDispatch();\r\n\r\n\tconst formik = useFormik({\r\n\t\tinitialValues: { message: \"\" },\r\n\t\tvalidationSchema: Yup.object({\r\n\t\t\tmessage: Yup.string().required(\"\"),\r\n\t\t}),\r\n\t\tonSubmit: (values, { setSubmitting }) => {\r\n\t\t\t// todo\r\n\t\t\tif (values.message.trim()) {\r\n\t\t\t\tdispatch(addMessage(values.message) as unknown as AnyAction);\r\n\t\t\t\tvalues.message = \"\";\r\n\t\t\t}\r\n\t\t\tsetSubmitting(false);\r\n\t\t},\r\n\t});\r\n\r\n\tlet pressed = new Set();\r\n\tconst onKeyDownHandler = (e: KeyboardEvent<HTMLDivElement>) => {\r\n\t\tpressed.add(e.key);\r\n\r\n\t\tif (!pressed.has(\"Shift\") && e.key === \"Enter\") {\r\n\t\t\te.preventDefault();\r\n\t\t\tif (formik.values.message.trim()) {\r\n\t\t\t\tdispatch(addMessage(formik.values.message) as unknown as AnyAction); // todo\r\n\t\t\t}\r\n\t\t\tformik.values.message = \"\";\r\n\t\t\tpressed.clear();\r\n\t\t} else if (pressed.has(\"Enter\") && pressed.has(\"Shift\")) {\r\n\t\t\tformik.values.message += \"\\n\";\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={formik.handleSubmit}>\r\n\t\t\t<div className={s.sendMessage}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Write a message...\"\r\n\t\t\t\t\tonKeyDown={onKeyDownHandler}\r\n\t\t\t\t\tvalue={formik.values.message}\r\n\t\t\t\t\tonChange={formik.handleChange}\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tvariant=\"filled\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tname=\"message\"\r\n\t\t\t\t\tsx={{ bgcolor: \"#38393AFF\" }}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName={s.bSend}\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tvariant=\"text\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tdisabled={formik.isSubmitting}>\r\n\t\t\t\t\t<SendIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nconst Dialogs = () => {\r\n\tconst { dialogsData, messageData } = useAppSelector((state) => state.dialogPage);\r\n\tconst { isAuth } = useAppSelector((state) => state.auth);\r\n\r\n\tlet dialogsItem = dialogsData.map((el: DialogType) => (\r\n\t\t<DialogItem id={el.id} name={el.name} key={el.id} />\r\n\t));\r\n\tlet messageItem = messageData.map((el: MessageType) => (\r\n\t\t<MessageItem message={el.message} key={el.id} />\r\n\t));\r\n\r\n\tif (!isAuth) {\r\n\t\treturn <Navigate to={\"/login\"} />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={s.wrapper}>\r\n\t\t\t<div className={s.dialogs}>\r\n\t\t\t\t<ul className={s.dialogs_ul}>{dialogsItem}</ul>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.messageWrapper}>\r\n\t\t\t\t<div className={s.messages}>{messageItem}</div>\r\n\t\t\t\t<DialogsForm addMessage={actions.addMessage} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Dialogs;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _utils.createSvgIcon;\n  }\n});\n\nvar _utils = require(\"@mui/material/utils\");","import { unstable_createChainedFunction as createChainedFunction } from '@mui/utils';\nexport default createChainedFunction;","import { unstable_deprecatedPropType as deprecatedPropType } from '@mui/utils';\nexport default deprecatedPropType;","export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n\n  return (props, propName, componentName, location, propFullName) => {\n    const componentNameSafe = componentName || '<<anonymous>>';\n    const propFullNameSafe = propFullName || propName;\n\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(`The ${location} \\`${propFullNameSafe}\\` of ` + `\\`${componentNameSafe}\\` is deprecated. ${reason}`);\n    }\n\n    return null;\n  };\n}","import { unstable_requirePropFactory as requirePropFactory } from '@mui/utils';\nexport default requirePropFactory;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function requirePropFactory(componentNameInError, Component) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  } // eslint-disable-next-line react/forbid-foreign-prop-types\n\n\n  const prevPropTypes = Component ? _extends({}, Component.propTypes) : null;\n\n  const requireProp = requiredProp => (props, propName, componentName, location, propFullName, ...args) => {\n    const propFullNameSafe = propFullName || propName;\n    const defaultTypeChecker = prevPropTypes == null ? void 0 : prevPropTypes[propFullNameSafe];\n\n    if (defaultTypeChecker) {\n      const typeCheckerResult = defaultTypeChecker(props, propName, componentName, location, propFullName, ...args);\n\n      if (typeCheckerResult) {\n        return typeCheckerResult;\n      }\n    }\n\n    if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n      return new Error(`The prop \\`${propFullNameSafe}\\` of ` + `\\`${componentNameInError}\\` can only be used together with the \\`${requiredProp}\\` prop.`);\n    }\n\n    return null;\n  };\n\n  return requireProp;\n}","import { unstable_setRef as setRef } from '@mui/utils';\nexport default setRef;","import { unstable_useId as useId } from '@mui/utils';\nexport default useId;","import { unstable_unsupportedProp as unsupportedProp } from '@mui/utils';\nexport default unsupportedProp;","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n\n  const propFullNameSafe = propFullName || propName;\n\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(`The prop \\`${propFullNameSafe}\\` is not supported. Please remove it.`);\n  }\n\n  return null;\n}","import { unstable_ClassNameGenerator as ClassNameGenerator } from '@mui/base/className';\nexport { default as capitalize } from './capitalize';\nexport { default as createChainedFunction } from './createChainedFunction';\nexport { default as createSvgIcon } from './createSvgIcon';\nexport { default as debounce } from './debounce';\nexport { default as deprecatedPropType } from './deprecatedPropType';\nexport { default as isMuiElement } from './isMuiElement';\nexport { default as ownerDocument } from './ownerDocument';\nexport { default as ownerWindow } from './ownerWindow';\nexport { default as requirePropFactory } from './requirePropFactory';\nexport { default as setRef } from './setRef';\nexport { default as unstable_useEnhancedEffect } from './useEnhancedEffect';\nexport { default as unstable_useId } from './useId';\nexport { default as unsupportedProp } from './unsupportedProp';\nexport { default as useControlled } from './useControlled';\nexport { default as useEventCallback } from './useEventCallback';\nexport { default as useForkRef } from './useForkRef';\nexport { default as useIsFocusVisible } from './useIsFocusVisible'; // TODO: remove this export once ClassNameGenerator is stable\n// eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport const unstable_ClassNameGenerator = {\n  configure: generator => {\n    console.warn(['MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.', '', \"You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\", '', 'The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401', '', 'The updated documentation: https://mui.com/guides/classname-generator/'].join('\\n'));\n    ClassNameGenerator.configure(generator);\n  }\n};","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["activeLink","isActive","d","id","name","path","className","to","message","usersData","useAppSelector","state","profilePage","userId","auth","dispatch","useAppDispatch","ava","photos","small","useEffect","getUserProfile","s","src","defaultAva","alt","DialogsForm","addMessage","formik","useFormik","initialValues","validationSchema","Yup","required","onSubmit","values","setSubmitting","trim","pressed","Set","handleSubmit","TextField","label","onKeyDown","e","add","key","has","preventDefault","clear","value","onChange","handleChange","multiline","variant","fullWidth","sx","bgcolor","Button","type","size","disabled","isSubmitting","Send","dialogPage","dialogsData","messageData","isAuth","dialogsItem","map","el","messageItem","actions","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","Object","defineProperty","enumerable","get","_utils","createSvgIcon","validator","reason","componentNameInError","Component","props","propName","componentName","location","propFullName","unstable_ClassNameGenerator","configure","generator","console","warn","join","ClassNameGenerator","module","obj","__esModule"],"sourceRoot":""}