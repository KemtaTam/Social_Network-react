{"version":3,"file":"static/js/506.6359cef3.chunk.js","mappings":"iNACA,EAAkC,kCAAlC,EAA2E,uBAA3E,EAA6G,2BAA7G,EAA8I,sBAA9I,EAA+K,2BAA/K,EAAiN,uBAAjN,EAAiP,yBAAjP,EAAyR,+BAAzR,EAAoU,4B,SCavTA,EAAgC,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,oBAC/CC,GAAWC,EAAAA,EAAAA,KAEjB,OACC,iBAAKC,UAAWC,EAAhB,WACC,iBAAKD,UAAWC,EAAhB,WACC,gBAAKD,UAAWC,EAAhB,UACC,SAAC,KAAD,CAASC,GAAI,YAAcN,EAAKO,GAAhC,UACC,gBACCC,IAA2B,OAAtBR,EAAKS,OAAOC,MAAiBC,EAAaX,EAAKS,OAAOC,MAC3DE,IAAI,aAIP,iBAAKR,UAAWC,EAAhB,WACC,SAAC,KAAD,CAASC,GAAI,YAAcN,EAAKO,GAAhC,UACC,gBAAKH,UAAWC,EAAhB,SAAyBL,EAAKa,UAE/B,gBAAKT,UAAWC,EAAhB,SAA2BL,EAAKc,UAChC,iBAAKV,UAAWC,EAAhB,WACC,cAAGU,KAAK,IAAR,2BAA8B,WAGhC,mBACCX,UAAWC,EACXW,QAAS,kBAAMd,GAASe,EAAAA,EAAAA,IAAejB,EAAKO,GAAIP,EAAKkB,YACrDC,SAAUlB,EAAoBmB,MAAK,SAACb,GAAD,OAAQA,IAAOP,EAAKO,MAHxD,SAIEP,EAAKkB,SAAW,WAAa,eAGhC,gBAAKd,UAAWC,Q,UC3CnB,GAAgB,QAAU,uBAAuB,YAAc,2BAA2B,UAAY,0BCYzFgB,EAAiCC,EAAAA,MAAW,YAA0B,IAAvBC,EAAsB,EAAtBA,gBAW3D,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAP,eACMC,EAAgBD,EAAaE,IAAI,UACjCC,EAAcH,EAAaE,IAAI,SAAW,GAEhD,OACC,SAAC,KAAD,CAAQE,oBAAkB,EAACC,cAAe,CAAEC,KAAMH,EAAaI,OAAQN,GAAiBO,SAfjE,SACvBC,EADuB,GAGlB,IADHC,EACE,EADFA,cAEEH,EAAyB,KACP,SAAlBE,EAAOF,SAAmBA,EAA2B,SAAlBE,EAAOF,QAC9CT,EAAgB,CAAEQ,KAAMG,EAAOH,KAAMC,OAAAA,IACrCG,GAAc,IAQd,SACE,gBAAGC,EAAH,EAAGA,aAAH,OACA,UAAC,KAAD,YACC,SAAC,KAAD,CAAOvB,KAAK,OAAOwB,YAAY,eAC/B,UAAC,KAAD,CAAOC,GAAG,SAASzB,KAAK,SAAxB,WACC,mBAAQ0B,MAAM,OAAd,kBACA,mBAAQA,MAAM,OAAd,sBACA,mBAAQA,MAAM,QAAd,6BAED,mBAAQnC,UAAWC,EAAAA,MAASmC,KAAK,SAASrB,SAAUiB,EAApD,6BCrCL,EAAwB,yBAAxB,EAA4D,4BAA5D,EAAgG,yBAAhG,EAAkI,0BC+ElI,EAjEuC,SAAC,GAevC,IANM,IARNK,EAQK,EARLA,YACAC,EAOK,EAPLA,gBACAC,EAMK,EANLA,SACAC,EAKK,EALLA,UACAC,EAIK,EAJLA,QACAC,EAGK,EAHLA,YACAC,EAEK,EAFLA,gBACAC,EACK,EADLA,eAEM9C,GAAWC,EAAAA,EAAAA,KAEX8C,EAAYC,KAAKC,KAAKT,EAAkBC,GACxCS,EAAuB,GAEpBC,EAAIT,EAAWS,GAAKR,IAC5BO,EAAME,KAAKD,GACPA,IAAMJ,GAF2BI,KAKtC,IAAME,EAAUH,EAAMI,KAAI,SAACC,GAC1B,OACC,gBACCrD,UAAW0C,IAAgBW,EAAOpD,OAAaqD,EAE/C1C,QAAS,kBAAMgC,EAAeS,IAH/B,SAIEA,GAFIA,MAsBR,OACC,iBAAKrD,UAAWC,EAAhB,UACEuC,EAAY,GACZ,mBAAQxC,UAAWC,EAASW,QAlBd,WAChB,IAAI2C,EAAQf,EAAYH,EAGxBvC,EAAS6C,EAAgBY,EAFfd,EAAUJ,IAGpBO,EAAeW,IAab,kBAGG,KACHf,EAAY,EAAI,MAAQ,KACxBW,EACAV,EAAUI,EAAY,MAAQ,KAC9BJ,EAAUI,GACV,mBAAQ7C,UAAWC,EAAUW,QAnBd,WACjB,IAAI2C,EAAQf,EAAYH,EAGxBvC,EAAS6C,EAAgBY,EAFfd,EAAUJ,IAGpBO,EAAeW,IAcb,mBAGG,S,UCgBP,EAhFc,WACb,OAUIC,EAAAA,EAAAA,IAAe,SAACC,GAAD,OAAWA,EAAMC,aATnCpB,EADD,EACCA,gBACAC,EAFD,EAECA,SACAC,EAHD,EAGCA,UACAC,EAJD,EAICA,QACAC,EALD,EAKCA,YACAiB,EAND,EAMCA,UACA9D,EAPD,EAOCA,oBACA+D,EARD,EAQCA,WACAC,EATD,EASCA,OAGK/D,GAAWC,EAAAA,EAAAA,KAEjB,GAAwCqB,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqByC,EAArB,MAEAC,EAAAA,EAAAA,YAAU,WACT,IAAMC,EAAwE,GAE1EH,EAAOlC,OAAMqC,EAAmBrC,KAAOkC,EAAOlC,MAClDsC,QAAQC,IAAI,kBAAmBL,EAAOjC,QAChB,OAAlBiC,EAAOjC,SACViC,EAAOjC,OACHoC,EAAmBpC,OAAS,OAC5BoC,EAAmBpC,OAAS,SAEb,IAAhBc,IAAmBsB,EAAmBG,KAAOC,OAAO1B,IAExDoB,EAAgBE,KACd,CAACH,EAAQnB,KAEZqB,EAAAA,EAAAA,YAAU,WACT,IAAMM,EAAkBhD,EAAaE,IAAI,SAA6BmB,EAChEf,EAAON,EAAaE,IAAI,SAAWsC,EAAOlC,KAC5CC,EAAyBiC,EAAOjC,OAEhCP,EAAaE,IAAI,YACpBK,EACgC,SAA/BP,EAAaE,IAAI,UACd,KAC+B,SAA/BF,EAAaE,IAAI,WAKtBzB,GAASwE,EAAAA,EAAAA,IAASD,EAAgB9B,EAAU,CAAEZ,KAAAA,EAAMC,OAAAA,OAClD,IAEH,IASM2C,EAAWZ,EAAUP,KAAI,SAACoB,GAC/B,OAAO,SAAC7E,EAAD,CAAUC,KAAM4E,EAAI3E,oBAAqBA,GAA0B2E,EAAGrE,OAG9E,OACC,iBAAKH,UAAWC,EAAAA,QAAhB,WACC,SAACgB,EAAD,CAAWE,gBAVW,SAAC0C,GACxB/D,GAASwE,EAAAA,EAAAA,IAAS,EAAG/B,EAAUsB,QAU9B,SAAC,EAAD,CACCvB,gBAAiBA,EACjBC,SAAUA,EACVC,UAAWA,EACXC,QAASA,EACTC,YAAaA,EACbC,gBAAiB8B,EAAAA,GAAAA,gBACjB7B,eAvBoB,SAACS,GACvBvD,EAAS2E,EAAAA,GAAAA,eAAuBpB,IAChCvD,GAASwE,EAAAA,EAAAA,IAASjB,EAAMd,EAAUsB,KAsBhCxB,YAAa,KAEbuB,GAAa,SAACc,EAAA,EAAD,KAAgB,gBAAK1E,UAAWC,EAAAA,YAAhB,SAAgCsE,S","sources":["webpack://my-app/./src/Pages/Users/UserItem/UserItem.module.css?7d30","Pages/Users/UserItem/UserItem.tsx","webpack://my-app/./src/Pages/Users/Users.module.css?adc3","Pages/Users/UsersForm.tsx","webpack://my-app/./src/Components/common/Paginator/Paginator.module.css?c0d0","Components/common/Paginator/Paginator.tsx","Pages/Users/Users.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"userItemWrapper\":\"UserItem_userItemWrapper__sjKgP\",\"line\":\"UserItem_line__-wDCR\",\"userItem\":\"UserItem_userItem__ejwq0\",\"ava\":\"UserItem_ava__Dx-eq\",\"userInfo\":\"UserItem_userInfo__XWXxu\",\"name\":\"UserItem_name__v-XtS\",\"status\":\"UserItem_status__VMc56\",\"writeMessage\":\"UserItem_writeMessage__wxBCA\",\"bIsFollow\":\"UserItem_bIsFollow__KoGGB\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport { useAppDispatch } from \"../../../hooks/redux\";\r\nimport { changeFollowTC } from \"../../../redux/reducers/users-reducer\";\r\nimport { UsersType } from \"../../../types/types\";\r\nimport defaultAva from \"../../../images/default.png\";\r\nimport s from \"./UserItem.module.css\";\r\n\r\ntype PropsType = {\r\n\tuser: UsersType;\r\n\tfollowingInProgress: Array<number>;\r\n};\r\n\r\nexport const UserItem: React.FC<PropsType> = ({ user, followingInProgress }) => {\r\n\tconst dispatch = useAppDispatch();\r\n\r\n\treturn (\r\n\t\t<div className={s.userItemWrapper}>\r\n\t\t\t<div className={s.userItem}>\r\n\t\t\t\t<div className={s.ava}>\r\n\t\t\t\t\t<NavLink to={\"/profile/\" + user.id}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={user.photos.small === null ? defaultAva : user.photos.small}\r\n\t\t\t\t\t\t\talt=\"ava\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.userInfo}>\r\n\t\t\t\t\t<NavLink to={\"/profile/\" + user.id}>\r\n\t\t\t\t\t\t<div className={s.name}>{user.name}</div>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<div className={s.status}>{user.status}</div>\r\n\t\t\t\t\t<div className={s.writeMessage}>\r\n\t\t\t\t\t\t<a href=\"/\">Write message</a>{\" \"}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={s.bIsFollow}\r\n\t\t\t\t\tonClick={() => dispatch(changeFollowTC(user.id, user.followed))}\r\n\t\t\t\t\tdisabled={followingInProgress.some((id) => id === user.id)}>\r\n\t\t\t\t\t{user.followed ? \"Unfollow\" : \"Follow\"}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.line}></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Users_wrapper__vgxcL\",\"userWrapper\":\"Users_userWrapper__bGpbT\",\"bShowMore\":\"Users_bShowMore__OgCDC\"};","import React from \"react\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { FilterType } from \"../../redux/reducers/users-reducer\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport s from \"./Users.module.css\";\r\n\r\ntype PropsType = {\r\n\tonFilterChanged: (filter: FilterType) => void;\r\n};\r\ntype ValuesType = {\r\n\tterm: string;\r\n\tfriend: \"null\" | \"true\" | \"false\";\r\n};\r\nexport const UsersForm: React.FC<PropsType> = React.memo(({ onFilterChanged }) => {\r\n\tconst onSubmitHandler = (\r\n\t\tvalues: ValuesType,\r\n\t\t{ setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }\r\n\t) => {\r\n\t\tlet friend: null | boolean = null;\r\n\t\tif (values.friend !== \"null\") friend = values.friend === \"true\" ? true : false;\r\n\t\tonFilterChanged({ term: values.term, friend });\r\n\t\tsetSubmitting(false);\r\n\t};\r\n\r\n\tconst [searchParams] = useSearchParams();\r\n\tconst friendFromURL = searchParams.get(\"friend\") as \"null\" | \"true\" | \"false\";\r\n\tconst termFromURL = searchParams.get(\"term\") || \"\";\r\n\r\n\treturn (\r\n\t\t<Formik enableReinitialize initialValues={{ term: termFromURL, friend: friendFromURL }} onSubmit={onSubmitHandler}>\r\n\t\t\t{({ isSubmitting }) => (\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Field name=\"term\" placeholder=\"Search...\" />\r\n\t\t\t\t\t<Field as=\"select\" name=\"friend\">\r\n\t\t\t\t\t\t<option value=\"null\">All</option>\r\n\t\t\t\t\t\t<option value=\"true\">Friends</option>\r\n\t\t\t\t\t\t<option value=\"false\">Not friends</option>\r\n\t\t\t\t\t</Field>\r\n\t\t\t\t\t<button className={s.bSend} type=\"submit\" disabled={isSubmitting}>\r\n\t\t\t\t\t\tSearch\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Form>\r\n\t\t\t)}\r\n\t\t</Formik>\r\n\t);\r\n});\r\n","// extracted by mini-css-extract-plugin\nexport default {\"pages\":\"Paginator_pages__NBgHW\",\"selected\":\"Paginator_selected__xPuxZ\",\"bLeft\":\"Paginator_bLeft__c5snT\",\"bRight\":\"Paginator_bRight__Bk84f\"};","import { AnyAction } from \"redux\";\r\nimport { useAppDispatch } from \"../../../hooks/redux\";\r\nimport s from \"./Paginator.module.css\";\r\n\r\ntype PropsType = {\r\n\tportionSize: number;\r\n\ttotalItemsCount: number;\r\n\tpageSize: number;\r\n\tbeginPage: number;\r\n\tendPage: number;\r\n\tcurrentPage: number;\r\n\tsetBeginEndPage: (begin: number, end: number) => void;\r\n\tsetCurrentPage: (page: number) => void;\r\n};\r\n\r\nconst Paginator: React.FC<PropsType> = ({\r\n\tportionSize,\r\n\ttotalItemsCount,\r\n\tpageSize,\r\n\tbeginPage,\r\n\tendPage,\r\n\tcurrentPage,\r\n\tsetBeginEndPage,\r\n\tsetCurrentPage,\r\n}) => {\r\n\tconst dispatch = useAppDispatch();\r\n\r\n\tconst pageCount = Math.ceil(totalItemsCount / pageSize);\r\n\tconst pages: Array<number> = [];\r\n\r\n\tfor (let i = beginPage; i <= endPage; i++) {\r\n\t\tpages.push(i);\r\n\t\tif (i === pageCount) break;\r\n\t}\r\n\r\n\tconst pagesEl = pages.map((pNum) => {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={currentPage === pNum ? s.selected : undefined}\r\n\t\t\t\tkey={pNum}\r\n\t\t\t\tonClick={() => setCurrentPage(pNum)}>\r\n\t\t\t\t{pNum}\r\n\t\t\t</div>\r\n\t\t);\r\n\t});\r\n\r\n\tlet scrollLeft = () => {\r\n\t\tlet begin = beginPage - portionSize;\r\n\t\tlet end = endPage - portionSize;\r\n\t\t// todo\r\n\t\tdispatch(setBeginEndPage(begin, end) as unknown as AnyAction);\r\n\t\tsetCurrentPage(begin);\r\n\t};\r\n\tlet scrollRight = () => {\r\n\t\tlet begin = beginPage + portionSize;\r\n\t\tlet end = endPage + portionSize;\r\n\t\t// todo\r\n\t\tdispatch(setBeginEndPage(begin, end) as unknown as AnyAction);\r\n\t\tsetCurrentPage(begin);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={s.pages}>\r\n\t\t\t{beginPage > 1 ? (\r\n\t\t\t\t<button className={s.bLeft} onClick={scrollLeft}>\r\n\t\t\t\t\tleft\r\n\t\t\t\t</button>\r\n\t\t\t) : null}\r\n\t\t\t{beginPage > 1 ? \"...\" : null}\r\n\t\t\t{pagesEl}\r\n\t\t\t{endPage < pageCount ? \"...\" : null}\r\n\t\t\t{endPage < pageCount ? (\r\n\t\t\t\t<button className={s.bRight} onClick={scrollRight}>\r\n\t\t\t\t\tright\r\n\t\t\t\t</button>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Paginator;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { UserItem } from \"./UserItem/UserItem\";\r\nimport { UsersForm } from \"./UsersForm\";\r\nimport { actions, FilterType, getUsers } from \"../../redux/reducers/users-reducer\";\r\nimport Paginator from \"../../Components/common/Paginator/Paginator\";\r\nimport Preloader from \"../../Components/common/Preloader/Preloader\";\r\nimport s from \"./Users.module.css\";\r\n\r\nconst Users = () => {\r\n\tconst {\r\n\t\ttotalItemsCount,\r\n\t\tpageSize,\r\n\t\tbeginPage,\r\n\t\tendPage,\r\n\t\tcurrentPage,\r\n\t\tusersData,\r\n\t\tfollowingInProgress,\r\n\t\tisFetching,\r\n\t\tfilter,\r\n\t} = useAppSelector((state) => state.usersPage);\r\n\r\n\tconst dispatch = useAppDispatch();\r\n\r\n\tconst [searchParams, setSearchParams] = useSearchParams();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst queryParamsFromURL: { friend?: string; term?: string; page?: string } = {};\r\n\r\n\t\tif (filter.term) queryParamsFromURL.term = filter.term;\r\n\t\tconsole.log(\"filter.friend: \", filter.friend);\r\n\t\tif (filter.friend !== null) {\r\n\t\t\tfilter.friend\r\n\t\t\t\t? (queryParamsFromURL.friend = \"true\")\r\n\t\t\t\t: (queryParamsFromURL.friend = \"false\");\r\n\t\t}\r\n\t\tif (currentPage !== 1) queryParamsFromURL.page = String(currentPage);\r\n\r\n\t\tsetSearchParams(queryParamsFromURL);\r\n\t}, [filter, currentPage]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst curPageFromURL = (searchParams.get(\"page\") as number | null) || currentPage;\r\n\t\tconst term = searchParams.get(\"term\") || filter.term;\r\n\t\tlet friend: boolean | null = filter.friend;\r\n\r\n\t\tif (searchParams.get(\"friend\")) {\r\n\t\t\tfriend =\r\n\t\t\t\tsearchParams.get(\"friend\") === \"null\"\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: searchParams.get(\"friend\") === \"true\"\r\n\t\t\t\t\t? true\r\n\t\t\t\t\t: false;\r\n\t\t}\r\n\t\t\r\n\t\tdispatch(getUsers(curPageFromURL, pageSize, { term, friend }));\r\n\t}, []);\r\n\r\n\tconst setCurrentPage = (pNum: number) => {\r\n\t\tdispatch(actions.setCurrentPage(pNum));\r\n\t\tdispatch(getUsers(pNum, pageSize, filter));\r\n\t};\r\n\r\n\tconst onFilterChanged = (filter: FilterType) => {\r\n\t\tdispatch(getUsers(1, pageSize, filter));\r\n\t};\r\n\r\n\tconst userItem = usersData.map((el) => {\r\n\t\treturn <UserItem user={el} followingInProgress={followingInProgress} key={el.id} />;\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className={s.wrapper}>\r\n\t\t\t<UsersForm onFilterChanged={onFilterChanged} />\r\n\t\t\t<Paginator\r\n\t\t\t\ttotalItemsCount={totalItemsCount}\r\n\t\t\t\tpageSize={pageSize}\r\n\t\t\t\tbeginPage={beginPage}\r\n\t\t\t\tendPage={endPage}\r\n\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\tsetBeginEndPage={actions.setBeginEndPage}\r\n\t\t\t\tsetCurrentPage={setCurrentPage}\r\n\t\t\t\tportionSize={10}\r\n\t\t\t/>\r\n\t\t\t{isFetching ? <Preloader /> : <div className={s.userWrapper}>{userItem}</div>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Users;\r\n"],"names":["UserItem","user","followingInProgress","dispatch","useAppDispatch","className","s","to","id","src","photos","small","defaultAva","alt","name","status","href","onClick","changeFollowTC","followed","disabled","some","UsersForm","React","onFilterChanged","useSearchParams","searchParams","friendFromURL","get","termFromURL","enableReinitialize","initialValues","term","friend","onSubmit","values","setSubmitting","isSubmitting","placeholder","as","value","type","portionSize","totalItemsCount","pageSize","beginPage","endPage","currentPage","setBeginEndPage","setCurrentPage","pageCount","Math","ceil","pages","i","push","pagesEl","map","pNum","undefined","begin","useAppSelector","state","usersPage","usersData","isFetching","filter","setSearchParams","useEffect","queryParamsFromURL","console","log","page","String","curPageFromURL","getUsers","userItem","el","actions","Preloader"],"sourceRoot":""}